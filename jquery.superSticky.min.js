(function(a){a.fn.superSticky=function(d){var b={init:function(e){this.superSticky.settings=a.extend({},this.superSticky.defaults,e);return this.each(function(){var f=a(this),g=this;if(typeof(f.superSticky.settings.wrapper)==="undefined"){var i=f.parent()}else{var i=a(f.superSticky.settings.wrapper),j=f.superSticky.settings.wrapper}var h={targetInitialPosition:f.css("position"),targetInitialTop:f.css("top"),targetInitialTopOffset:f.offset().top,targetInitialWrapperOffset:f.offset().top-i.offset().top,pageScrollElementBottomFlag:false,lastScrollTop:0,freezePositionFlag:false,targetInitialLeftOffset:f.offset().left};if(f.superSticky.settings.padding_top>h.targetInitialTopOffset){f.superSticky.settings.padding_top=h.targetInitialTopOffset}c.scroll(g,h);a(window).scroll(function(){c.scroll(g,h)});f.mutate("height",function(){c.scroll(g,h)});i.mutate("height",function(){c.scroll(g,h)})})},};var c={scroll:function(l,m){var o=a(l),h=l;if(typeof(o.superSticky.settings.wrapper)==="undefined"){var k=o.parent()}else{var k=a(o.superSticky.settings.wrapper),e=o.superSticky.settings.wrapper}m.scrollPosition=a(window).scrollTop();m.targetPosition=o.offset().top;m.windowHeight=a(window).outerHeight();m.targetHeight=o.outerHeight();m.wrapperHeight=k.outerHeight();m.wrapperPosition=k.offset().top;var p=function(){o.css("position",m.targetInitialPosition);o.css("top",m.targetInitialTop);o.css("left","auto")},j=function(){o.css("position","relative");o.css("top",m.wrapperHeight-o.superSticky.settings.padding_bottom-m.targetInitialWrapperOffset-m.targetHeight);o.css("left","auto")},f=function(){o.css("position","fixed");o.css("top",o.superSticky.settings.padding_top);m.freezePositionFlag=false;o.css("left",m.targetInitialLeftOffset)},i=function(){o.css("position","fixed");o.css("top",(m.windowHeight-(m.targetHeight+o.superSticky.settings.padding_bottom)));m.freezePositionFlag=false;o.css("left",m.targetInitialLeftOffset)},g=function(){o.css("position","relative");if(!m.freezePositionFlag){m.freezePositionFlag=m.targetPosition-m.targetInitialTopOffset;o.css("top",m.freezePositionFlag);o.css("left","auto")}};if(m.targetInitialTopOffset+o.superSticky.settings.padding_bottom+m.targetHeight-m.wrapperPosition<m.wrapperHeight){if(m.scrollPosition<=m.targetInitialTopOffset-o.superSticky.settings.padding_top){p()}else{if(m.windowHeight<=m.targetHeight+o.superSticky.settings.padding_top+o.superSticky.settings.padding_bottom){if(m.scrollPosition+m.targetHeight-((m.targetHeight+o.superSticky.settings.padding_bottom)-m.windowHeight)>=m.wrapperHeight+m.wrapperPosition-o.superSticky.settings.padding_bottom){j()}else{if(m.scrollPosition>m.lastScrollTop){if(m.scrollPosition>=m.targetPosition+((m.targetHeight+o.superSticky.settings.padding_bottom)-m.windowHeight)){m.pageScrollElementBottomFlag=true;i()}else{g()}}else{if(m.scrollPosition<=m.targetPosition-o.superSticky.settings.padding_top&&m.pageScrollElementBottomFlag){f()}else{g()}}}m.lastScrollTop=m.scrollPosition}else{if(m.scrollPosition+m.targetHeight+o.superSticky.settings.padding_top>=m.wrapperHeight+m.wrapperPosition-o.superSticky.settings.padding_bottom){j()}else{f()}}}}}};if(b[d]){return b[d].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof d==="object"||!d){return b.init.apply(this,arguments)}else{a.error('Method "'+d+'" does not exist in the superSticky plugin!')}}};a.fn.superSticky.defaults={padding_top:0,padding_bottom:0};a.fn.superSticky.settings={}})(jQuery);mutate_event_stack=[{name:"width",handler:function(a){n={el:a};if(!$(n.el).data("mutate-width")){$(n.el).data("mutate-width",$(n.el).width())}if($(n.el).data("mutate-width")&&$(n.el).width()!=$(n.el).data("mutate-width")){$(n.el).data("mutate-width",$(n.el).width());return true}return false}},{name:"height",handler:function(a){element=a;if(!$(element).data("mutate-height")){$(element).data("mutate-height",$(element).height())}if($(element).data("mutate-height")&&$(element).height()!=$(element).data("mutate-height")){$(element).data("mutate-height",$(element).height());return true}}},{name:"top",handler:function(a){if(!$(a).data("mutate-top")){$(a).data("mutate-top",$(a).css("top"))}if($(a).data("mutate-top")&&$(a).css("top")!=$(a).data("mutate-top")){$(a).data("mutate-top",$(a).css("top"));return true}}},{name:"bottom",handler:function(a){if(!$(a).data("mutate-bottom")){$(a).data("mutate-bottom",$(a).css("bottom"))}if($(a).data("mutate-bottom")&&$(a).css("bottom")!=$(a).data("mutate-bottom")){$(a).data("mutate-bottom",$(a).css("bottom"));return true}}},{name:"right",handler:function(a){if(!$(a).data("mutate-right")){$(a).data("mutate-right",$(a).css("right"))}if($(a).data("mutate-right")&&$(a).css("right")!=$(a).data("mutate-right")){$(a).data("mutate-right",$(a).css("right"));return true}}},{name:"left",handler:function(a){if(!$(a).data("mutate-left")){$(a).data("mutate-left",$(a).css("left"))}if($(a).data("mutate-left")&&$(a).css("left")!=$(a).data("mutate-left")){$(a).data("mutate-left",$(a).css("left"));return true}}},{name:"hide",handler:function(a){if($(a).is(":hidden")){return true}}},{name:"show",handler:function(a){if($(a).is(":visible")){return true}}},{name:"scrollHeight",handler:function(a){if(!$(a).data("prev-scrollHeight")){$(a).data("prev-scrollHeight",$(a)[0].scrollHeight)}if($(a).data("prev-scrollHeight")&&$(a)[0].scrollHeight!=$(a).data("prev-scrollHeight")){$(a).data("prev-scrollHeight",$(a)[0].scrollHeight);return true}}},{name:"scrollWidth",handler:function(a){if(!$(a).data("prev-scrollWidth")){$(a).data("prev-scrollWidth",$(a)[0].scrollWidth)}if($(a).data("prev-scrollWidth")&&$(a)[0].scrollWidth!=$(a).data("prev-scrollWidth")){$(a).data("prev-scrollWidth",$(a)[0].scrollWidth);return true}}},{name:"scrollTop",handler:function(a){if(!$(a).data("prev-scrollTop")){$(a).data("prev-scrollTop",$(a)[0].scrollTop())}if($(a).data("prev-scrollTop")&&$(a)[0].scrollTop()!=$(a).data("prev-scrollTop")){$(a).data("prev-scrollTop",$(a)[0].scrollTop());return true}}},{name:"scrollLeft",handler:function(a){if(!$(a).data("prev-scrollLeft")){$(a).data("prev-scrollLeft",$(a)[0].scrollLeft())}if($(a).data("prev-scrollLeft")&&$(a)[0].scrollLeft()!=$(a).data("prev-scrollLeft")){$(a).data("prev-scrollLeft",$(a)[0].scrollLeft());return true}}}];(function(b){mutate={speed:1,event_stack:mutate_event_stack,stack:[],events:{},add_event:function(c){mutate.events[c.name]=c.handler},add:function(e,c,f,d){mutate.stack[mutate.stack.length]={event_name:e,selector:c,callback:f,false_callback:d}}};function a(){var c=mutate;if(c.event_stack!="undefined"&&c.event_stack.length){b.each(c.event_stack,function(e,d){mutate.add_event(d)})}c.event_stack=[];b.each(c.stack,function(d,e){b(e.selector).each(function(g,f){if(c.events[e.event_name](f)===true){if(e.callback){e.callback(f,e)}}else{if(e.false_callback){e.false_callback(f,e)}}})});setTimeout(a,mutate.speed)}a();b.fn.extend({mutate:function(){var e=false,f=arguments[1],c=this,d=arguments[2]?arguments[2]:function(){};if(arguments[0].toLowerCase()=="extend"){mutate.add_event(f);return this}b.each(b.trim(arguments[0]).split(" "),function(g,h){e=h;mutate.add(e,c,f,d)});return this}})})(jQuery);